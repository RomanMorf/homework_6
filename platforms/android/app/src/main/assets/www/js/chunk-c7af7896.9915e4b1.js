(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c7af7896"],{1276:function(i,d,e){"use strict";var u=e("2ba4"),r=e("c65b"),o=e("e330"),c=e("d784"),m=e("44e7"),v=e("825a"),h=e("1d80"),f=e("4840"),p=e("8aa5"),w=e("50c4"),O=e("577e"),M=e("dc4a"),x=e("4dae"),C=e("14c3"),L=e("9263"),P=e("9f7f"),E=e("d039"),l=P.UNSUPPORTED_Y,g=4294967295,j=Math.min,t=[].push,n=o(/./.exec),a=o(t),s=o("".slice),R=!E(function(){var U=/(?:)/,T=U.exec;U.exec=function(){return T.apply(this,arguments)};var $="ab".split(U);return $.length!==2||$[0]!=="a"||$[1]!=="b"});c("split",function(U,T,$){var D;return D="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(b,k){var y=O(h(this)),_=k===void 0?g:k>>>0;if(_===0)return[];if(b===void 0)return[y];if(!m(b))return r(T,y,b,_);for(var S,A,J,G=[],H=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.unicode?"u":"")+(b.sticky?"y":""),I=0,N=new RegExp(b.source,H+"g");(S=r(L,N,y))&&(A=N.lastIndex,!(A>I&&(a(G,s(y,I,S.index)),S.length>1&&S.index<y.length&&u(t,G,x(S,1)),J=S[0].length,I=A,G.length>=_)));)N.lastIndex===S.index&&N.lastIndex++;return I===y.length?!J&&n(N,"")||a(G,""):a(G,s(y,I)),G.length>_?x(G,0,_):G}:"0".split(void 0,0).length?function(b,k){return b===void 0&&k===0?[]:r(T,this,b,k)}:T,[function(b,k){var y=h(this),_=b==null?void 0:M(b,U);return _?r(_,b,y,k):r(D,O(y),b,k)},function(b,k){var y=v(this),_=O(b),S=$(D,y,_,k,D!==T);if(S.done)return S.value;var A=f(y,RegExp),J=y.unicode,G=(y.ignoreCase?"i":"")+(y.multiline?"m":"")+(y.unicode?"u":"")+(l?"g":"y"),H=new A(l?"^(?:"+y.source+")":y,G),I=k===void 0?g:k>>>0;if(I===0)return[];if(_.length===0)return C(H,_)===null?[_]:[];for(var N=0,V=0,F=[];V<_.length;){H.lastIndex=l?0:V;var B,Y=C(H,l?s(_,V):_);if(Y===null||(B=j(w(H.lastIndex+(l?V:0)),_.length))===N)V=p(_,V,J);else{if(a(F,s(_,N,V)),F.length===I)return F;for(var q=1;q<=Y.length-1;q++)if(a(F,Y[q]),F.length===I)return F;V=N=B}}return a(F,s(_,N)),F}]},!R,l)},"14c3":function(i,d,e){var u=e("da84"),r=e("c65b"),o=e("825a"),c=e("1626"),m=e("c6b6"),v=e("9263"),h=u.TypeError;i.exports=function(f,p){var w=f.exec;if(c(w)){var O=r(w,f,p);return O!==null&&o(O),O}if(m(f)==="RegExp")return r(v,f,p);throw h("RegExp#exec called on incompatible receiver")}},"159b":function(i,d,e){var u=e("da84"),r=e("fdbc"),o=e("785a"),c=e("17c2"),m=e("9112"),v=function(f){if(f&&f.forEach!==c)try{m(f,"forEach",c)}catch(p){f.forEach=c}};for(var h in r)r[h]&&v(u[h]&&u[h].prototype);v(o)},"17c2":function(i,d,e){"use strict";var u=e("b727").forEach,r=e("a640"),o=r("forEach");i.exports=o?[].forEach:function(c){return u(this,c,arguments.length>1?arguments[1]:void 0)}},"1b8e":function(i,d,e){i.exports=e.p+"img/card_liks.ff7b9b02.svg"},2362:function(i,d,e){i.exports=e.p+"img/card_player_muted-off.679a8d86.svg"},"3a2e":function(i,d,e){"use strict";var u,r,o=e("b85c"),c=(e("a4d3"),e("2b0e")),m=e("2f62"),v=Object.defineProperty,h=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,w=function(P,E,l){return E in P?v(P,E,{enumerable:!0,configurable:!0,writable:!0,value:l}):P[E]=l},O=function(P,E){for(var l in E||(E={}))f.call(E,l)&&w(P,l,E[l]);if(h){var g,j=Object(o.a)(h(E));try{for(j.s();!(g=j.n()).done;)l=g.value,p.call(E,l)&&w(P,l,E[l])}catch(t){j.e(t)}finally{j.f()}}return P},M=c.a.extend({data:function(){return{isPlay:!1,isPause:!1,loading:!0}},methods:{playToggle:function(){this.isPlay?this.playerPause():this.playerPlay()},mutedToggle:function(){this.checkParams(),this.muted?(this.$refs.video.muted=!1,this.muted=!1,this.$store.dispatch("SET_MUTED",!1)):(this.$refs.video.muted=!0,this.muted=!0,this.$store.dispatch("SET_MUTED",!0))},playerPlay:function(){this.checkParams(),this.$refs.video.play(),this.isPlay=!0,this.isPause=!1},playerPause:function(){this.checkParams(),this.$refs.video.pause(),this.isPlay=!1,this.isPause=!0},playerStop:function(){this.checkParams(),this.$refs.video.pause(),this.$refs.video.currentTime=0,this.isPlay=!1,this.isPause=!1},setVolume:function(){var P=this.volume||30;this.$refs.video.volume=P/100,this.$store.dispatch("SET_VOLUME",P)},checkParams:function(){this.volume=this.GET_VOLUME||30,this.muted=this.GET_MUTED,this.$refs.video&&(this.$refs.video.volume=+this.volume/100),this.$refs.video&&(this.$refs.video.muted=this.GET_MUTED)},hideLoader:function(){this.loading=!1}},computed:O({},Object(m.b)(["GET_VOLUME","GET_MUTED"]))}),x=M,C=e("2877"),L=Object(C.a)(x,u,r,!1,null,null,null);d.a=L.exports},"44e7":function(i,d,e){var u=e("861d"),r=e("c6b6"),o=e("b622"),c=o("match");i.exports=function(m){var v;return u(m)&&((v=m[c])!==void 0?!!v:r(m)=="RegExp")}},"48f9":function(i,d,e){i.exports=e.p+"img/card_player_muted-on.e199f918.svg"},"649c":function(i,d,e){i.exports=e.p+"img/card_verified.5869aa9e.svg"},"7f50":function(i,d,e){i.exports=e.p+"img/card_reposts.f6eeca72.svg"},"8aa5":function(i,d,e){"use strict";var u=e("6547").charAt;i.exports=function(r,o,c){return o+(c?u(r,o).length:1)}},"9e7d":function(i,d,e){i.exports=e.p+"img/card_player_play.f7a2fcfe.svg"},a640:function(i,d,e){"use strict";var u=e("d039");i.exports=function(r,o){var c=[][r];return!!c&&u(function(){c.call(null,o||function(){throw 1},1)})}},b64b:function(i,d,e){var u=e("23e7"),r=e("7b0b"),o=e("df75"),c=e("d039"),m=c(function(){o(1)});u({target:"Object",stat:!0,forced:m},{keys:function(v){return o(r(v))}})},bb51:function(i,d,e){"use strict";e.r(d);var u=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"video"},[a("div",{staticClass:"video_container"},[t.loading?a("Loader"):t._l(t.TRENDING,function(s){return a("Card",{key:s.createTime+"-"+s.id,attrs:{item:s,globalMuted:t.GET_MUTED}})})],2)])},r=[];e("b64b"),e("a4d3"),e("4de4"),e("d3b7"),e("e439"),e("159b"),e("dbb4");function o(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function c(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(R){return Object.getOwnPropertyDescriptor(t,R).enumerable})),a.push.apply(a,s)}return a}function m(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?c(Object(a),!0).forEach(function(s){o(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function v(t,n,a,s,R,U,T){try{var $=t[U](T),D=$.value}catch(b){return void a(b)}$.done?n(D):Promise.resolve(D).then(s,R)}function h(t){return function(){var n=this,a=arguments;return new Promise(function(s,R){var U=t.apply(n,a);function T(D){v(U,s,R,T,$,"next",D)}function $(D){v(U,s,R,T,$,"throw",D)}T(void 0)})}}e("96cf");var f=e("2b0e"),p=e("2f62"),w=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"card",attrs:{id:"card-"+t.item.id}},[a("a",{staticClass:"card_link",on:{click:function(s){return t.$router.push("/profile/"+t.item.authorMeta.name)}}},[a("img",{staticClass:"card_avatar",attrs:{src:t.item.authorMeta.avatar,alt:"user avatar"}})]),a("button",{staticClass:"card_subscribe"},[t._v("\u041F\u043E\u0434\u043F\u0438\u0441\u0430\u0442\u044C\u0441\u044F")]),a("div",{staticClass:"card_body"},[a("div",{staticClass:"card_autor"},[a("h3",{on:{click:function(s){return t.$router.push("/profile/"+t.item.authorMeta.name)}}},[t._v(" "+t._s(t.item.authorMeta.name)+" ")]),t.item.authorMeta.verified?a("span",[a("img",{staticClass:"verified",attrs:{src:e("649c"),alt:"verified"}})]):t._e(),a("h4",[t._v(t._s(t.item.authorMeta.nickName))])]),a("div",{staticClass:"card_meta-video"},[a("span",{staticClass:"card_meta-text"},[t._v(t._s(t.cardText))]),t._l(t.item.hashtags,function(s,R){return a("span",{key:R,staticClass:"card_meta-hashtag"},[t._v("#"+t._s(s.name))])})],2),a("div",{staticClass:"card_meta-audio"},[a("img",{attrs:{src:e("c871"),alt:"music"}}),a("span",{staticClass:"card_meta-audio-info"},[t.item.musicMeta.musicName==="original sound"?a("span",{staticClass:"card_meta-audio-name"},[t._v("\u043E\u0440\u0438\u0433\u0438\u043D\u0430\u043B\u044C\u043D\u0430\u044F \u043F\u0435\u0441\u043D\u044F")]):a("span",[t._v(t._s(t.item.musicMeta.musicName))]),a("span",{staticClass:"card_meta-audio-autor"},[t._v("- "+t._s(t.item.musicMeta.musicAuthor))])])]),a("div",{staticClass:"card_video"},[a("div",{staticClass:"card_video-wrapper"},[t.loading?a("Loader"):t._e(),a("video",{ref:"video",staticClass:"card_video-item",attrs:{loop:"",src:t.item.videoUrl},on:{click:t.playToggle,loadeddata:t.hideLoader}}),a("span",{staticClass:"card_video-muted",on:{click:t.mutedToggle}},[t.globalMuted?a("img",{attrs:{src:e("48f9"),alt:"muted on"}}):a("img",{attrs:{src:e("2362"),alt:"muted off"}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"card_video-volume",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.volume},on:{change:t.setVolume,__r:function(s){t.volume=s.target.value}}}),t.isPlay?t._e():a("span",{staticClass:"card_video-btn",on:{click:t.playerPlay}},[a("img",{staticClass:"toggle-inner",attrs:{src:e("9e7d"),alt:"play"}})]),t.isPlay?a("span",{staticClass:"card_video-btn",on:{click:t.playerPause}},[a("img",{attrs:{src:e("f7de"),alt:"pause"}})]):t._e(),a("div",{staticClass:"card_video-actions"},[t._m(0),a("span",{staticClass:"card_video-actions-text"},[t._v(" "+t._s(t._f("short")(t.item.authorMeta.heart))+" ")]),t._m(1),a("span",{staticClass:"card_video-actions-text"},[t._v(" "+t._s(t._f("short")(t.item.commentCount))+" ")]),t._m(2),a("span",{staticClass:"card_video-actions-text"},[t._v(" "+t._s(t._f("short")(t.item.shareCount))+" ")])])],1)])])])},O=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"card_video-actions-btn"},[a("img",{attrs:{src:e("1b8e"),alt:"liks"}})])},function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"card_video-actions-btn"},[a("img",{attrs:{src:e("d872"),alt:"comments"}})])},function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"card_video-actions-btn"},[a("img",{attrs:{src:e("7f50"),alt:"reposts"}})])}],M=(e("ac1f"),e("1276"),e("3a2e")),x=M.a.extend({name:"Card-component",props:{item:{type:Object},globalMuted:{type:Boolean}},mixins:[M.a],data:function(){return{volume:30,muted:!1,htmlElem:null,isPlay:!1}},methods:{startStopPlay:function(){var t=.25*window.innerHeight+window.scrollY,n=this.htmlElem.offsetTop,a=this.htmlElem.offsetHeight;t<n&&t<n+a||t>n&&t>n+a?this.isPlay&&this.playerStop():t>n&&t<n+a&&this.playerPlay()}},computed:{cardText:function(){var t=this.item.text.split("#");return t[0]}},mounted:function(){var t=this;this.checkParams();var n=document.querySelector("#card-".concat(this.item.id));this.htmlElem=n,document.addEventListener("scroll",function(){t.startStopPlay()})}}),C=x,L=(e("f381"),e("2877")),P=Object(L.a)(C,w,O,!1,null,"458a08a7",null),E=P.exports,l=f.a.extend({name:"Home-components",data:function(){return{loading:!0}},methods:{getTrandingFeed:function(){var t=this;return h(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("GET_TRENDING_FEED");case 3:setTimeout(function(){t.loading=!1},1e3),a.next=10;break;case 6:throw a.prev=6,a.t0=a.catch(0),t.$store.commit("setError",a.t0),a.t0;case 10:case"end":return a.stop()}},n,null,[[0,6]])}))()}},components:{Card:E},mounted:function(){var t=this;return h(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getTrandingFeed();case 2:case"end":return a.stop()}},n)}))()},computed:m({},Object(p.b)(["GET_VOLUME","GET_MUTED","TRENDING"]))}),g=l,j=Object(L.a)(g,u,r,!1,null,null,null);d.default=j.exports},bd55:function(i,d,e){},c871:function(i,d,e){i.exports=e.p+"img/card_music.fccaa333.svg"},d784:function(i,d,e){"use strict";e("ac1f");var u=e("e330"),r=e("6eeb"),o=e("9263"),c=e("d039"),m=e("b622"),v=e("9112"),h=m("species"),f=RegExp.prototype;i.exports=function(p,w,O,M){var x=m(p),C=!c(function(){var l={};return l[x]=function(){return 7},""[p](l)!=7}),L=C&&!c(function(){var l=!1,g=/a/;return p==="split"&&(g={},g.constructor={},g.constructor[h]=function(){return g},g.flags="",g[x]=/./[x]),g.exec=function(){return l=!0,null},g[x](""),!l});if(!C||!L||O){var P=u(/./[x]),E=w(x,""[p],function(l,g,j,t,n){var a=u(l),s=g.exec;return s===o||s===f.exec?C&&!n?{done:!0,value:P(g,j,t)}:{done:!0,value:a(j,g,t)}:{done:!1}});r(String.prototype,p,E[0]),r(f,x,E[1])}M&&v(f[x],"sham",!0)}},d872:function(i,d,e){i.exports=e.p+"img/card_comments.7fc328a1.svg"},dbb4:function(i,d,e){var u=e("23e7"),r=e("83ab"),o=e("56ef"),c=e("fc6a"),m=e("06cf"),v=e("8418");u({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(h){for(var f,p,w=c(h),O=m.f,M=o(w),x={},C=0;M.length>C;)p=O(w,f=M[C++]),p!==void 0&&v(x,f,p);return x}})},e439:function(i,d,e){var u=e("23e7"),r=e("d039"),o=e("fc6a"),c=e("06cf").f,m=e("83ab"),v=r(function(){c(1)}),h=!m||v;u({target:"Object",stat:!0,forced:h,sham:!m},{getOwnPropertyDescriptor:function(f,p){return c(o(f),p)}})},f381:function(i,d,e){"use strict";e("bd55")},f7de:function(i,d,e){i.exports=e.p+"img/card_player_pause.ca516ee1.svg"}}]);
